<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Candidate Status â€“ Google GoGen 3.0 ArtOFest</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
/* -------------------- GLOBAL -------------------- */
:root {
  --bg: #f5f7fa;
  --card: #ffffff;
  --text: #222;
  --accent: #4a7dfc;
  --border: #dce1e8;
}
.dark {
  --bg: #0f141a;
  --card: #18222d;
  --text: #f5f7fa;
  --accent: #4a90ff;
  --border: #2a3138;
}
body {
  margin: 0;
  font-family: "Segoe UI", sans-serif;
  background: var(--bg);
  color: var(--text);
}
.container {
  max-width: 850px;
  margin: auto;
  padding: 20px;
}
.card {
  background: var(--card);
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  margin-bottom: 20px;
  border: 1px solid var(--border);
}
h2, h3 {
  margin-top: 0;
}
input, select {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--card);
  color: var(--text);
}
button {
  padding: 12px 18px;
  background: var(--accent);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 15px;
  cursor: pointer;
  transition: 0.2s;
}
button:hover {
  opacity: 0.9;
}
/* -------------------- PROGRESS BAR -------------------- */
.progress-container {
  background: var(--border);
  border-radius: 30px;
  height: 20px;
}
.progress-bar {
  height: 20px;
  background: var(--accent);
  border-radius: 30px;
  width: 0%;
  transition: width 0.5s ease;
}
/* -------------------- STAGE BOXES -------------------- */
.stage {
  padding: 12px;
  background: var(--card);
  border-left: 5px solid var(--accent);
  margin: 10px 0;
  border-radius: 8px;
  border: 1px solid var(--border);
}
.badge {
  padding: 3px 10px;
  border-radius: 6px;
  font-size: 12px;
  color: white;
}
.passed { background: #33c759; }
.pending { background: #ff9f0a; }
.failed { background: #ff453a; }

/* -------------------- ADMIN PANEL -------------------- */
#adminPanel {
  display: none;
  border-top: 2px dashed var(--accent);
  padding-top: 20px;
}

/* -------------------- DARK MODE TOGGLE -------------------- */
.switch {
  position: fixed;
  top: 20px;
  right: 20px;
  background: var(--card);
  padding: 10px 15px;
  border-radius: 10px;
  border: 1px solid var(--border);
  cursor: pointer;
  user-select: none;
}
</style>
</head>
<body>

<div class="switch" onclick="toggleDarkMode()">ðŸŒ™/â˜€ Theme</div>

<div class="container">

  <!-- USER INPUT -->
  <div class="card">
    <h2>Check Submission Status</h2>
    <input id="candidateId" placeholder="Enter Candidate ID">
    <select id="candidateCohort">
      <option value="">Select Cohort</option>
      <option>Cohort 1</option>
      <option>Cohort 2</option>
      <option>Cohort 3</option>
      <option>Cohort 4</option>
    </select>
    <button onclick="checkStatus()">Check Status</button>
  </div>

  <!-- RESULTS SECTION -->
  <div id="results" class="card" style="display:none;">
    <h3>Candidate Details</h3>
    <p><b>Name:</b> <span id="rName"></span></p>
    <p><b>Cohort:</b> <span id="rCohort"></span></p>
    <p><b>Current Stage:</b> <span id="rStage"></span></p>

    <h3>Progress</h3>
    <div class="progress-container">
      <div class="progress-bar" id="progressBar"></div>
    </div>

    <h3>Stages</h3>
    <div id="stageList"></div>

    <div id="certificateBox" style="display:none;">
      <h3>Download Certificate</h3>
      <button onclick="window.open(CERTIFICATE_LINK)">Download Appreciation Certificate</button>
    </div>

    <button onclick="downloadPDF()">Download Status as PDF</button>
  </div>

  <!-- ADMIN PANEL TO UPDATE STATUS -->
  <div class="card" id="adminPanel">
    <h2>Admin Panel</h2>
    <input id="adminId" placeholder="Candidate ID to modify">
    <select id="adminStage">
      <option value="0">Stage 1</option>
      <option value="1">Stage 2</option>
      <option value="2">Stage 3</option>
      <option value="3">Stage 4</option>
      <option value="4">Stage 5</option>
      <option value="5">Stage 6</option>
    </select>
    <button onclick="updateStage()">Update Stage</button>
  </div>

</div>

<script>

/* ------------------------------------------------------------
    CANDIDATE DATABASE (STATIC)
------------------------------------------------------------ */
let candidates = {
  "AZ0082Y4": {
    name: "Srishti Singh",
    cohort: "Cohort 3",
    stage: 1, // 0-5
    certificate: "https://example.com/certificate1.pdf"
  },
  "AZ00123X9": {
    name: "Demo Candidate",
    cohort: "Cohort 1",
    stage: 3,
    certificate: ""
  }
};

/* Save & Load LocalStorage */
if (localStorage.getItem("gogenCandidates")) {
  candidates = JSON.parse(localStorage.getItem("gogenCandidates"));
}
function saveDB() {
  localStorage.setItem("gogenCandidates", JSON.stringify(candidates));
}

/* ------------------------------------------------------------
    STAGE DEFINITIONS + PERKS
------------------------------------------------------------ */
const stageDefinitions = [
  {
    name: "Stage 1 â€“ Submission Verification",
    desc: "Your PDF entries are checked for format, originality, clarity, and completeness.",
    perk: "Appreciation Certificate from The Shaurya Singh Organization + Shaurya Digital Services."
  },
  {
    name: "Stage 2 â€“ Quality Assessment",
    desc: "Judges evaluate design quality, color theory, layout, and creativity.",
    perk: "Access to 100+ premium subscription services FREE (by Shaurya Digital Services)."
  },
  {
    name: "Stage 3 â€“ Creativity & Innovation Review",
    desc: "Panels evaluate uniqueness and purpose effectiveness.",
    perk: "Special GoGen Digital Badge."
  },
  {
    name: "Stage 4 â€“ Technical Precision Evaluation",
    desc: "Your designs are tested for vector clarity, export quality, and readability.",
    perk: "Priority access to GoGen learning materials."
  },
  {
    name: "Stage 5 â€“ Jury Round",
    desc: "Senior judges score the final entries.",
    perk: "Premium digital toolkit access."
  },
  {
    name: "Stage 6 â€“ Final Winner Selection",
    desc: "Top scorers selected and finalized.",
    perk: "$300 tax-free reward + Winner Certificate."
  }
];

/* ------------------------------------------------------------
    FRONT-END LOGIC
------------------------------------------------------------ */
let CERTIFICATE_LINK = "";

/* Check candidate */
function checkStatus() {
  let id = document.getElementById("candidateId").value.trim();
  let cohort = document.getElementById("candidateCohort").value;

  if (!candidates[id] || candidates[id].cohort !== cohort) {
    alert("Invalid Candidate ID or Cohort.");
    return;
  }

  let c = candidates[id];
  document.getElementById("results").style.display = "block";
  document.getElementById("rName").innerText = c.name;
  document.getElementById("rCohort").innerText = c.cohort;
  document.getElementById("rStage").innerText = ${c.stage+1} / 6;

  // PROGRESS BAR
  let progress = ((c.stage+1) / 6) * 100;
  document.getElementById("progressBar").style.width = progress + "%";

  // STAGES LIST
  let html = "";
  for (let i=0; i<6; i++) {
    html += `
      <div class="stage">
        <b>${stageDefinitions[i].name}</b><br>
        <span>${stageDefinitions[i].desc}</span><br><br>
        <span class="badge ${i <= c.stage ? 'passed' : 'pending'}">
          ${i <= c.stage ? 'Completed' : 'Pending'}
        </span><br>
        <small><b>Perk:</b> ${stageDefinitions[i].perk}</small>
      </div>
    `;
  }
  document.getElementById("stageList").innerHTML = html;

  // Certificate
  if (c.stage >= 0) {
    CERTIFICATE_LINK = c.certificate || "#";
    document.getElementById("certificateBox").style.display = "block";
  } else {
    document.getElementById("certificateBox").style.display = "none";
  }
}

/* Admin Panel */
document.addEventListener("keydown", e => {
  if (e.key === "~") {
    document.getElementById("adminPanel").style.display =
      document.getElementById("adminPanel").style.display === "block" ? "none" : "block";
  }
});
function updateStage() {
  let id = document.getElementById("adminId").value.trim();
  let s = parseInt(document.getElementById("adminStage").value);

  if (!candidates[id]) {
    alert("Candidate not found.");
    return;
  }
  candidates[id].stage = s;
  saveDB();
  alert("Candidate stage updated!");
}

/* Dark Mode */
function toggleDarkMode() {
  document.body.classList.toggle("dark");
}

/* Download PDF (simple DOM screenshot converted to PDF) */
function downloadPDF() {
  alert("A downloadable PDF generator will be added here. (Front-end only)");
}

</script>
</body>
</html>
